(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){},34:function(e,t,n){e.exports=n(54)},40:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(17),o=n.n(s),c=(n(40),n(11)),i=n(12),l=n(14),u=n(13),h=n(15),m=(n(20),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={json:null},n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://ec2.kevnchoi.com/analytics/count").then(function(e){return e.json()}).then(function(t){return e.setState({json:t})}).catch(function(e){return console.log("Error: "+e)})}},{key:"renderCount",value:function(){return this.state.json?this.state.json.count:null}},{key:"render",value:function(){return r.a.createElement("div",{className:"header-content"},r.a.createElement("h1",null,"Site Metrics"),r.a.createElement("p",{className:"count"},"Total Site Visits: ",this.renderCount()))}}]),t}(a.Component)),d=n(8),v=n(60),f=n(57),p=n(61),b=n(59),g=n(58),y=n(28),E=n.n(y),j=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={json:null,auth:!1,username:"",password:"",authRes:null,authMessage:""},n.handlePasswordChange=n.handlePasswordChange.bind(Object(d.a)(n)),n.handleUsernameChange=n.handleUsernameChange.bind(Object(d.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(d.a)(n)),n}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://ec2.kevnchoi.com/analytics").then(function(e){return e.json()}).then(function(t){return e.setState({json:t})}).catch(function(e){return console.log("Error: "+e)})}},{key:"renderMetricsCards",value:function(){var e=this;return this.state.json?this.state.json.map(function(t,n){return r.a.createElement(v.a,{bg:"light",style:{width:"60vw"},key:n},r.a.createElement(v.a.Header,null,r.a.createElement(f.a.Toggle,{as:p.a,variant:"link",eventKey:n.toString()},"Session ID: ",t.sessionId)),r.a.createElement(f.a.Collapse,{eventKey:n.toString()},r.a.createElement(b.a,null,e.renderEvents(t.events))))}):null}},{key:"renderEvents",value:function(e){return e.map(function(e,t){var n=E()(e.timestamp).format("MMMM Do YYYY, h:mmA"),a=e.eventType.split("="),s="",o="";switch(a[0]){case"sessionStart":s="Started Session";break;case"linkVisit":s="Viewed ";break;case"navTo":s="Navigated to ";break;default:s="Unknown Event"}return a[1]&&(o=a[1]),r.a.createElement(b.a.Item,{key:t},r.a.createElement("p",{className:"event-desc"},s+o,": ",n))})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var n={username:this.state.username,password:this.state.password};fetch("https://ec2.kevnchoi.com/analytics/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then(function(e){return e.json()}).then(function(e){"Authenticated"===e.status?t.setState({auth:!0,authMessage:""}):t.setState({authMessage:e.status})}).catch(function(e){return console.log("Error: "+e)})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleUsernameChange",value:function(e){this.setState({username:e.target.value})}},{key:"renderAuth",value:function(){return r.a.createElement(g.a,{onSubmit:this.handleSubmit},r.a.createElement(g.a.Group,{controlId:"formBasicEmail"},r.a.createElement(g.a.Control,{placeholder:"Username",onChange:this.handleUsernameChange})),r.a.createElement(g.a.Group,{controlId:"formBasicPassword"},r.a.createElement(g.a.Control,{type:"password",placeholder:"Password",onChange:this.handlePasswordChange}),r.a.createElement(g.a.Text,{className:"text-muted"},this.state.authMessage)),r.a.createElement(p.a,{variant:"outline-primary",type:"submit"},"Submit"))}},{key:"render",value:function(){return this.state.auth?r.a.createElement("div",{className:"body-content"},r.a.createElement(f.a,null,this.renderMetricsCards())):r.a.createElement("div",{className:"body-content"},this.renderAuth())}}]),t}(a.Component),w=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app-container"},r.a.createElement(m,null),r.a.createElement(j,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[34,1,2]]]);
//# sourceMappingURL=main.9348067b.chunk.js.map